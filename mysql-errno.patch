--- include/my_global.h	2009-07-14 01:08:50.000000000 +0200
+++ include/my_global.h.oden	2009-08-03 17:22:43.000000000 +0200
@@ -275,6 +275,10 @@
 #include <sys/types.h>
 #endif
 
+#ifdef __linux__
+#define HAVE_ERRNO_AS_DEFINE
+#endif
+
 /* The client defines this to avoid all thread code */
 #if defined(MYSQL_CLIENT_NO_THREADS) || defined(UNDEF_THREADS_HACK)
 #undef THREAD
